# 三种情况的对象内存图

![image-20250126101021896](https://pic.hibugs.net/NGBTEAM/image-20250126101021896.png)

## 一个对象的内存图

`Student s = new Student();`

这一条语句做了以下7件事情：

1. 加载class文件：把Student这个类的字节码文件加载加载进入方法区
2. 申明局部变量：这个局部变量存储在栈内存中
3. 在堆内存中开辟一个空间：new操作就是在堆内存中开辟一块空间
4. 默认初始化
5. 显式初始化：指的是在类中定义变量时直接赋予值
6. 构造方法初始化
   - 以上的初始化都是对第三步中声明的局部变量进行初始化
7. 将堆内存中的地址赋值给左边的局部变量：new操作在堆内存中开辟一块空间后，将地址返回给左边的这个局部变量

![image-20250126113628913](https://pic.hibugs.net/NGBTEAM/image-20250126113628913.png)

## 两个对象的内存图

与一个对象的内存图不同的地方就是，第二个对象创建的时候（若与第一个对象属于同一类），不需要再将该类的字节码文件重新载入方法区

![image-20250126113549077](https://pic.hibugs.net/NGBTEAM/image-20250126113549077.png)

## 两个引用指向同一个对象

![image-20250126114337828](https://pic.hibugs.net/NGBTEAM/image-20250126114337828.png)

