# String类

## String概述

java.lang.String类代表字符串，Java程序中的所有字符串文字（例如“abc”）都为此类的对象

**ps：字符串不可变，他们的值在创建后不能被更改**

```java
name = "NGB"
name = "TEAM"
```

上面name这个变量只是记录的字符串对象的存储地址，`name="NGB"`只是把“NGB”对象的地址赋值给name，当`name="TEAM"`的时候，只是将TEAM对象的地址赋值给name，而NGB这个对象是没有改变的

## String的构造方法

1. 直接赋值

![image-20250225124649232](https://pic.hibugs.net/NGBTEAM/image-20250225124649232.png)

2. 空参构造

![image-20250225124712283](https://pic.hibugs.net/NGBTEAM/image-20250225124712283.png)

3. 传递一个字符串，根据传递的字符串内容再创建一个字符串对象

![image-20250225124819861](https://pic.hibugs.net/NGBTEAM/image-20250225124819861.png)

4. 传递一个字符数组，根据字符数组在创建一个字符串对象
   - 应用场景：字符串对象是不可修改的，如果当我们有修改需求，就可以创建一个字符数组，在字符数组中进行修改，修改完后传递给String类，然后根据该字符数组创建一个字符串对象

![image-20250225124903663](https://pic.hibugs.net/NGBTEAM/image-20250225124903663.png)

5. 传递一个字节数组，根据字节数组的内容在创建一个字符串对象
   - 应用场景：网络传输当中的数据都是字节信息，当需要把字节信息转换成字符串时，就需要该构造方法了

![image-20250225125134315](https://pic.hibugs.net/NGBTEAM/image-20250225125134315.png)

上面的3和4几乎是用不到的，了解即可，而其他的都是有可能会用到的

### 为什么我们使用最多的是直接赋值的方式去使用String类

#### 直接赋值

直接赋值在内存中，只在堆内存中生成一个字符串对象，如果有多个变量同时被赋值为相同的字符串，只会将该对象在堆内存中的地址赋值给变量，而不是生成多个对象，从而可以节省内存空间

![image-20250226231942835](https://pic.hibugs.net/NGBTEAM/image-20250226231942835.png)

如上图，串池是存储字符串常量的，当第一次声明s1时，串池中没有"abc"该字符串常量，所以会在串池中生成一个"abc"对象，然后把"abc"在堆内存中的地址给s1，而当声明s2时，检查串池中已经存在"abc"，故直接复用，将"abc"在堆内存中的地址赋值给s2，这样堆内存中值创建了一个对象，节省了内存空间

#### 手动new

只要是通过new出来的对象，一定会在堆内存中划出一篇空间用于存储该对象（之前的学习中提到过）

![image-20250226232309728](https://pic.hibugs.net/NGBTEAM/image-20250226232309728.png)

如上图，则会创建两个对象，虽然值同样为"abc"但却在堆内存中生成了两个对象，对于直接赋值来说更占内存空间

#### 总结

直接赋值的方式：

1. 简单
2. 节省内存空间

